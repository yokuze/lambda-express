[Home](./index) &gt; [@silvermine/lambda-express](./lambda-express.md) &gt; [Response](./lambda-express.response.md)

# Response class

## Properties

|  Property | Access Modifier | Type | Description |
|  --- | --- | --- | --- |
|  [`app`](./lambda-express.response.app.md) |  | `Application` |  |
|  [`headersSent`](./lambda-express.response.headerssent.md) |  | `boolean` |  |

## Methods

|  Method | Access Modifier | Returns | Description |
|  --- | --- | --- | --- |
|  [`constructor(app, req, cb)`](./lambda-express.response.constructor.md) |  |  | Constructs a new instance of the [Response](./lambda-express.response.md) class |
|  [`append(key, values)`](./lambda-express.response.append.md) |  | `Response` | Appends one or more response header values to the response. For example:<p/>Would result in this in your response:<p/> |
|  [`cacheForHours(hours)`](./lambda-express.response.cacheforhours.md) |  | `Response` | Convenience wrapper for `resp.cacheForSeconds`<!-- -->. Same semantics, but allows for easier-to-read code by allowing the developer to express the number of hours without having to do multiplication (or division when you read the code.) |
|  [`cacheForMinutes(minutes)`](./lambda-express.response.cacheforminutes.md) |  | `Response` | Convenience wrapper for `resp.cacheForSeconds`<!-- -->. Same semantics, but allows for easier-to-read code by allowing the developer to express the number of minutes without having to do multiplication (or division when you read the code.) |
|  [`cacheForSeconds(seconds)`](./lambda-express.response.cacheforseconds.md) |  | `Response` | Sets the appropriate caching headers (`Expires`<!-- -->, `Cache-Control`<!-- -->, and `Pragma`<!-- -->) to cache content for a specific number of seconds. If zero or any negative number of seconds is passed in, the headers are set to disallow caching. |
|  [`clearCookie(name, userOpts)`](./lambda-express.response.clearcookie.md) |  | `Response` | Clears the cookie specified by `name`<!-- -->. For details about the `options` object, see `res.cookie()`<!-- -->. |
|  [`cookie(name, userVal, userOpts)`](./lambda-express.response.cookie.md) |  | `Response` | Sets cookie `name` to `value`<!-- -->, optionally with the specified cookie options. See `CookieOpts`<!-- -->.<p/>Generally cookie values are strings, but you can also supply a JS object, which will be stringified with `JSON.stringify(userVal)` and prefixed with `j:`<!-- -->. This matches what Express does with response cookies and what their cookie parser middleware does with incoming (request) cookie headers.<p/> https://github.com/expressjs/cookie-parser/blob/1dc306b0ebe86ab98521811cc090740b4bef48e7/index.js\#L84-L86  https://github.com/expressjs/express/blob/dc538f6e810bd462c98ee7e6aae24c64d4b1da93/lib/response.js\#L836-L838<p/>TODO: how does a user see the documentation for `CookieOpts`<!-- -->? |
|  [`delete(headerName)`](./lambda-express.response.delete.md) |  | `Response` | Deletes a response header that may have been previously set. |
|  [`end()`](./lambda-express.response.end.md) |  | `Response` | Ends the response process by calling the Lambda callback with the response headers and body, if they have been supplied.<p/>Use to quickly end the response without any data. If you need to respond with data, instead use methods such as `res.send()` and `res.json()`<!-- -->. |
|  [`getHeaders()`](./lambda-express.response.getheaders.md) |  | `StringArrayOfStringsMap` | Get the response headers in their current state. Modifications to the object returned by this method will not be reflected in the response headers - you must use the response methods (e.g. `res.set(k, v)`<!-- -->) to manipulate response headers. |
|  [`getStatus()`](./lambda-express.response.getstatus.md) |  | `{`<p/>`        code: number;`<p/>`        message: string;`<p/>`    }` | Get the current response status code and message (e.g. "200 OK"). Modifications to the object returned by this method will not be reflected in the response itself - you must use the response methods (e.g. `res.status(n)`<!-- -->) to manipulate response status. |
|  [`hasHeader(name)`](./lambda-express.response.hasheader.md) |  | `boolean` | Returns true if response has a header by the name `name`<!-- -->. |
|  [`isALB()`](./lambda-express.response.isalb.md) |  | `boolean` |  |
|  [`isAPIGW()`](./lambda-express.response.isapigw.md) |  | `boolean` |  |
|  [`json(o)`](./lambda-express.response.json.md) |  | `Response` | Sends a JSON response. This method sends a response (with the correct content-type) that is the parameter converted to a JSON string using \[JSON.stringify()\](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global\_Objects/JSON/stringify).<p/>The parameter can be any JSON type, including `object`<!-- -->, `array`<!-- -->, `string`<!-- -->, `Boolean`<!-- -->, `number`<!-- -->, or `null`<!-- -->.<p/>Calling this method ends (sends) the response, after which headers can not be changed and more data can not be sent. |
|  [`jsonp(o)`](./lambda-express.response.jsonp.md) |  | `Response` | Sends a JSON response with JSONP support. This method is identical to `res.json()`<!-- -->, except that it opts-in to JSONP callback support.<p/>The JSONP function name that will be invoked should be sent in the query string of the request. The query string parameter, by default, is simply `callback` (e.g. `/some-url?callback=myFunction`<!-- -->). To override the name of the query string parameter, set the application setting named `jsonp callback name`<!-- -->. For example, `app.setSetting('jsonp callback name', 'cb')` would support URLs like `/some-url?cb=myFunction`<!-- -->.<p/>Calling this method ends (sends) the response, after which headers can not be changed and more data can not be sent. |
|  [`links(links)`](./lambda-express.response.links.md) |  | `Response` | Joins the links provided as properties of the parameter to populate the response's `Link` HTTP header field.<p/>For example, the following call:<p/>Would result in this header:<p/>Note that any subsequent call to `resp.links(...)` will \*overwrite\* the values that were already in the header. |
|  [`location(path)`](./lambda-express.response.location.md) |  | `Response` | Sets the response `Location` HTTP header to the specified `path` parameter.<p/>A path value of `back` has a special meaning; it refers to the URL specified in the `Referer` header of the request. If the `Referer` header was not specified, the location will be set to `/`<!-- -->.<p/>The URL set in the `Location` header will automatically be URL-encoded for you. For example:<p/> |
|  [`onAfterWrite(cb)`](./lambda-express.response.onafterwrite.md) |  | `Response` | Add a listener that will get called after the response is written, as part of a cleanup phase of request handling. See the example in `res.onBeforeWriteHeaders()`<!-- -->. |
|  [`onBeforeWriteHeaders(cb)`](./lambda-express.response.onbeforewriteheaders.md) |  | `Response` | Add a listener that will get called just before headers are written to the response. For example:<p/> |
|  [`redirect(code, path)`](./lambda-express.response.redirect.md) |  | `Response` | Redirects to the URL derived from the specified path, with specified status, a positive integer that corresponds to an \[HTTP status code\](https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html).<p/>If `code` not specified, status defaults to `302 "Found"`<!-- -->. Other most common option is `301`<!-- -->, which is the code for "Moved Permanently".<p/>The `path` is passed to `res.location()`<!-- -->, so the same notes about the functionality of the path (e.g. special value `back`<!-- -->) apply to this function.<p/>Calling this method ends (sends) the response, after which headers can not be changed and more data can not be sent. |
|  [`send(body)`](./lambda-express.response.send.md) |  | `Response` | Sends the HTTP response.<p/>The body parameter can be a `Buffer` object, a `string`<!-- -->, an `object`<!-- -->, or an `array`<!-- -->.<p/>Unlike Express, this method will not set the `Content-Length` header because API Gateway and Application Load Balancer already handle that when they get the response from the Lambda function (because the function must return the entire response and can not stream a response back, there's no situation where APIGW/ALB can't compute the length before they send the headers).<p/>TODO: evaluate whether we should do the other "useful tasks" that Express does, e.g. \[it\] "provides automatic HEAD and HTTP cache freshness support". See https://expressjs.com/en/api.html\#res.send<p/>When the parameter is a `Buffer` object, the method sets the Content-Type response header field to `application/octet-stream`<!-- -->, unless previously set.<p/>When the parameter is a `string`<!-- -->, the method sets the Content-Type to `text/html` (unless the type has already been set).<p/>When the parameter is an `array` or `object`<!-- -->, Express responds with the JSON representation. (See `res.json`<!-- -->)<p/>Calling this method ends (sends) the response, after which headers can not be changed and more data can not be sent. |
|  [`sendStatus(code)`](./lambda-express.response.sendstatus.md) |  | `Response` | Sets the response HTTP status code to statusCode and send its string representation as the response body.<p/>If an unsupported status code is specified, the HTTP status is still set to `statusCode` and the string version of the code is sent as the response body. For example:<p/>Calling this method ends (sends) the response, after which headers can not be changed and more data can not be sent. |
|  [`set(headers)`](./lambda-express.response.set.md) |  | `Response` | Sets the response's HTTP header field to value. To set multiple fields at once, pass an object as the parameter. |
|  [`status(code)`](./lambda-express.response.status.md) |  | `Response` | Sets the \[HTTP status code\](https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html). |
|  [`type(type)`](./lambda-express.response.type.md) |  | `Response` | Sets the `Content-Type` HTTP header to the MIME type as determined by \[mime.lookup()\](https://www.npmjs.com/package/mime) for the specified type. If type contains the `/` character, then it sets the `Content-Type` to the argument (without a lookup). For example:<p/> |

